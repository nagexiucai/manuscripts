### 文本 ###
任何文字符号序列组成的样本。

	对，就是那个秀才！
	yeah, it is that git!
	ほら、その人だ!
	Oui, c'est le maître!
	Да, именно тот интеллигент!
	Richtig IST, dass der gelehrte!
	نعم، هذا هو  عالم !

	F=Ma
	@#$&
	9527

以上都是文本，包括读者正在阅读的东西！

---

在计算机中，如何表示文本呢？其实早在现代计算机被发明之前，就已经在做这方面的研究并取得很多成功经验，例如电报中著名的莫尔斯码。

#### ASCII ####
是“American Standard Code for Information”的缩写，即“美国信息交换旗码”。

众所周知，电子计算机在美国诞生，最早支持美国通用语言——美式英语，其实无论美式、澳式、加式，抑或世界别的区域的英语，差别主要是发音和特定词汇的拼写，然而英文书写的基石是相同的：

- 五十二个字母
  - 二十六个大写
  - 二十六个小写
- 十个阿拉伯数字
- 若干语法和运算符号
- 若干用于控制打字机的指令

总计不足一百二十八个字符，用七比特来表示足够的——甚至能保留一些指令用于设备升级！

![](./illustration/ASCII.png)

---

为了让全世界不同文明的人类共享科技硕果，就必须设计能够表达人类全部语言的字符编码方式，在这个方向的探索，百家齐鸣。

以下当故事听即可，旨在让读者对字符编码有个感性的认识，更严谨的阐述请参阅相关文献。

---

#### EXTEND ####
得天独厚、近水楼台、理所当然、顺水推舟……

美国人发现，现代电子计算机的基本存储单位是“字节”，一个字节有八个比特（位），之前的ASCII表排列了一百二十八个字符、占七个比特，干脆扩展到八个比特（并不会增加电路操作一个字节的时序逻辑）。

![](./illustration/EXTEND.png)

这样一来，不仅能将制表符、音标等字符包含进来，打印更丰富的内容，还能把欧洲的非英语的拉丁字母一并囊括。

#### ANSI ####

#### GB?/GBK ####

#### UNICODE ####

#### UTF ####

---
程序员编写的代码、给代码添加的注释都是文本！

目前大规模采用的标准化（区域或国际）的字符编码，都内在地对ASCII提供支持，这就是英语作为编程语言的历史优势。

程序员所熟练的自然语言（母语）也能并非英语，因而几乎全部成熟的编程语言都提供注释功能，甚至一些编程语言能够直接用非英语字符编写代码。例如下面的一段Java代码：

	public class 人 {
		public String 姓名;
		protected int 年龄;
		private float 心情;
		boolean 婚配; // default
	
		public void 衣() {}
		protected void 食() {}
		private void 住() {}
		void 行() {} // default
	}

*偷偷地告诉大家，新版的Python也可以这样写代码了*。

为了让Python正确解析源代码文件、反馈程序员直接可读的信息，就需要告知Python解释器源代码文件的字符编码、反馈信息用于展示的字符编码。

	#!/usr/bin/env python
	# -*- encoding: utf-8 -*-
	# @Author: Bob
	
	print "hi, nagexiucai.com"
	print "没错，就是那个秀才"
	print "没错，就是那个秀才".decode("utf-8")
	print u"没错，就是那个秀才"
	print "没错，就是那个秀才".decode("utf-8").encode("gbk")

在PyCharm中，分别以终端命令和直接运行方式跑这段代码，结果如下：

![](./illustration/文本-character-encoding为何终端和运行窗口显示结果不一致.png)

显然：终端和运行窗口显示结果不一致！

因为：

- 终端默认GBK字符编码
- 运行窗口显式声明为UTF-8字符编码

所以：

- 只要是GBK字符编码能解析的内容，终端里被正确显示
- 只要是UTF-8字符编码能解析的内容，运行窗口中被正确显示

回过头来细说样例中每句要打印的文本的字符编码：

![](./illustration/文本-character-encoding注解.png)

通过可视化调试器看看：

![](./illustration/文本-character-encoding终端和运行窗口显示结果不一致剖析.png)

结果和分析的一致！

有读者留意过上述两个PyCharm截图中右下角的圈么（兰色、紫色）：

![](./illustration/PyCharm当前文本的字符编码.png)

对，这就是当前文本的字符编码。

**小练习**：

- 在PyCharm中直接把“# -\*- encoding: utf-8 -\*-”修改成“# -\*- encoding: gbk -\*-”并保存、在PyCharm中直接运行脚本、观察PyCharm右下角的字符编码指示窗
- 在别的简单文本编辑器（如notepad等）中把“# -\*- encoding: utf-8 -\*-”修改成“# -\*- encoding: gbk -\*-”并保存、以终端命令执行脚本、用PyCharm重新打开该脚本并观察PyCharm右下角的字符编码指示窗

#### str ####

#### unicode ####

#### basestring ####

#### 语法 ####

#### 概念 ####

### [秀才](http://zhouguoqiang.cn/ "作者")点评 ###

---
### [返回目录](https://github.com/nagexiucai/manuscripts/blob/master/Python半深入讲义/背诵默写.md "背诵默写") ###